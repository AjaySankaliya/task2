<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuku game</title>
    <style>
        h1,p{
            text-align: center;
        }
        body{
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        table{
            margin:50px;
        }
        td{
            width:60px;
            height:60px;
        }
    </style>
</head>
<body>
    <h1>Kuku game</h1>
    <div class="container">
        <p>score: <span id="score">0</span></p>
        <table id="mytable"></table>
        <script>
            let maxGridSize=8;
            let gridSize=2;
            let score=0;

            function getRandomcolor(){
                return [Math.floor(Math.random()*256),
                Math.floor(Math.random()*256),
                Math.floor(Math.random()*256)        
                ];
            }
            function generatecolor(basecolor,offset){
                return `rgb(${Math.min(basecolor[0]+offset,255)},
                ${Math.min(basecolor[1]+offset,255)},
                ${Math.min(basecolor[2]+offset,255)})`;
            }

            function createtable(size){
                let table=document.getElementById("mytable");
                let scorecard=document.getElementById('score');
                table.innerHTML="";
                let basecolor=getRandomcolor();
                let offset=Math.floor(Math.random()*100)+10;
                let targetcolor=generatecolor(basecolor,offset);
                let normalcolor=`rgb(${basecolor[0]},${basecolor[1]},${basecolor[2]})`;
                let targetcell=Math.floor(Math.random() * size *size);

                for(let i=0;i<size;i++){
                    let row=document.createElement('tr');
                    for(let j=0;j<size;j++){
                        let col=document.createElement('td');
                        col.style.backgroundColor=(i*size+j === targetcell)?targetcolor:normalcolor;
                        col.addEventListener('click',function(){
                            if(i*size+j === targetcell){
                                score++;
                                scorecard.textContent=score;
                                if(gridSize<maxGridSize){
                                    gridSize++;
                                }
                                createtable(gridSize);
                            }
                            
                        });row.appendChild(col);
                    }table.appendChild(row);
                }
            }
            createtable(gridSize);
        </script>
    </div>
</body>
</html>